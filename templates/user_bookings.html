{% extends "user_layout.html" %}
{% block content %}
<div class="container py-5 text-light">
  <div class="text-center mb-5">
    <h2 class="fw-bold text-cyan-400 tracking-wide">ğŸŸï¸ My Bookings</h2>
    <p class="text-muted">All your movie tickets in one place</p>
  </div>

  {% if tickets %}
    <div class="row justify-content-center">
      {% for ticket in tickets %}
        <div class="col-lg-5 col-md-6 mb-4">
          <div class="card rounded-4 shadow-lg border-0 overflow-hidden"
               style="background: linear-gradient(145deg, #101010, #1b1b1b); border: 1px solid rgba(255,255,255,0.08); transition: all 0.3s ease; cursor: default;">
            <div class="card-body p-4">
              
              <!-- Movie and Theatre -->
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h4 class="text-info mb-0 fw-semibold">ğŸ¬ {{ ticket.show.name }}</h4>
                {% if ticket.show.date_time >= dt_time_now %}
                  <span class="badge bg-success px-3 py-2">Upcoming</span>
                {% else %}
                  <span class="badge bg-secondary px-3 py-2">Past</span>
                {% endif %}
              </div>

              <h6 class="text-muted mb-3">
                ğŸ“ {{ ticket.show.theatre.name }} â€“ {{ ticket.show.theatre.location }}
              </h6>

              <hr class="border-secondary opacity-25 my-2">

              <!-- Ticket Details -->
              <p class="mb-2">
                ğŸ•’ <strong>Date & Time:</strong>
                {{ ticket.show.date_time.strftime('%d %b %Y, %I:%M %p') }}
              </p>
              <p class="mb-2">
                ğŸ‘¤ <strong>Booked By:</strong> <span class="text-cyan-400">{{ ticket.user_info.full_name }}</span>
              </p>
              <p class="mb-2">
                ğŸŸï¸ <strong>No. of Tickets:</strong> {{ ticket.no_of_tickets }}
              </p>
              <p class="mb-0">
                ğŸ’° <strong>Total Paid:</strong> â‚¹{{ ticket.total_cost }}
              </p>
            </div>

            <!-- Subtle footer ribbon -->
            <div class="px-4 py-2 bg-gradient-to-r from-cyan-500/10 to-transparent text-end">
              <small class="text-muted">Booking ID: #{{ ticket.id }}</small>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="text-center py-5">
      <h4 class="text-muted">No bookings found ğŸ˜”</h4>
      <p class="text-secondary">Start exploring and book your next show today!</p>
      <a href="/user/{{ user_info.id }}/{{ name }}" class="btn btn-info text-dark fw-semibold px-4 rounded-pill mt-3">
        Browse Movies
      </a>
    </div>
  {% endif %}
</div>
{% endblock %}
